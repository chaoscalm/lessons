<html><head><script>var canvas, ctx, texted, output;function init() {    canvas = document.getElementById("canvas")    ctx = canvas.getContext("2d")    texted = document.getElementById("text")    output = document.getElementById("output")    }function textChanged() {    ctx.clearRect(0, 0, canvas.width, canvas.height)    output.innerHTML = ""    ctx.strokeStyle="#FF0000";    text = texted.value    var x = canvas.width / 2    var y = canvas.height / 2    var ang = 0    var ip = 0    var lineno = 1 // for debugging    var readChars = function(pred) {        var s = "";        var nc = text[ip]        while (ip < text.length && pred(nc)) {            s += nc            ++ip            nc = text[ip]        }        return s    }    function out(s) {        output.innerHTML += "Line: " + lineno + ": " + s + "<br>"    }        var isNum = function(nc) { return (nc >= "0" && nc <= "9") || nc =='-' }    var isalpha = function(nc) { return (nc >= "a" && nc <= "z") || (nc >= "A" && nc <= "Z") }         var readNum = function() {        var nc = text[ip]        if (isNum(nc))                    return parseInt(readChars(isNum))        else {            var name = readName()            return getVar(name)        }    }    var readSpace = function() {        readChars( function(nc) {             if (nc == '\n')                ++lineno            return nc == ' ' || nc == '\n' || nc == '\t'         })    }    var readName = function() {        return readChars(isalpha)    }    ctx.beginPath();       ctx.moveTo(x, y)        var vars = {}    var getVar = function(name) {        if (name in vars)             return vars[name]        else {            out("Unknown variable " + name)            return NaN        }        }    var loopStack = []    var loopPush = function(o) {        loopStack[loopStack.length] = o    }    var loopPop = function() {        t = loopStack[loopStack.length - 1]        loopStack = loopStack.splice(0, loopStack.length - 1)        return t    }        while (ip < text.length) {        readSpace()        c = readChars(function(nc) { return isalpha(nc) || '=+-/*'.indexOf(nc) >= 0 })         readSpace()        if (c == 'F' || c == 'forward') {            var n = readNum()            x += n * Math.cos(ang * Math.PI / 180.0)            y += n * Math.sin(ang * Math.PI / 180.0)            ctx.lineTo(x, y)        }        else if (c == 'T' || c == 'turn') {            ang += readNum()        }        else if (c == '=') {            var name = readName()            readSpace()            var num = readNum()            vars[name] = num        }        else if (c == 'neg') {            var name = readName()            vars[name] = -getVar(name)        }        else if (c == '+' || c == '/') {            var name = readName()            readSpace()            var num = readNum()            if (c == '+')                vars[name] = getVar(name) + num            if (c == '-')                vars[name] = getVar(name) - num            else if (c == '/')                vars[name] = Math.round(getVar(name) / num)            else if (c == '*')                vars[name] = getVar(name) * num        }        else if (c == 'do') {            var times = readNum()            loopPush( {"timesLeft":times, "toip":ip} )        }        else if (c == 'next') {            var d = loopPop()            --d.timesLeft            if (d.timesLeft > 0) {                loopPush(d)                ip = d.toip            }        }        else if (c == 'color') {            var r = readNum()            readSpace()            var g = readNum()            readSpace()            var b = readNum()            ctx.stroke()            ctx.beginPath();            ctx.strokeStyle = "rgb(" + r + "," + g + "," + b + ")"            ctx.moveTo(x, y)        }        else {            out("Unknown command `" + c + "`")            return        }            }    ctx.stroke();}/* Examples= a 5do 1000  F a  T 89  + a 2  = yy a  / yy 2   color 0 a yy next*/</script></head><body onload="init()">  <canvas id="canvas" width="600" height="600" style="border:solid 1px;"></canvas>  <textarea id="text" style="position:absolute; left:650px; top:10px; width:300px; height:600px;" oninput="textChanged()"></textarea>  <div id="output"></div></body></html>